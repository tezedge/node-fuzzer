[supervisord]
nodaemon=true
user=root
strip_ansi=true

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[inet_http_server]
port = 0.0.0.0:9001

[program:node]
command=/bin/bash -c "cd /tezedge && git pull --rebase && /scripts/write_last_commit && ./run.sh fuzz --network=mainnet --disable-bootstrap-lookup --synchronization-thresh 0 --peer-thresh-low=0 --disable-peer-blacklist"
stdout_logfile=/log/node.out
stdout_logfile_maxbytes=0
stdout_logfile_backups=0
stderr_logfile=/log/node.err
stderr_logfile_maxbytes=0
stderr_logfile_backups=0

[program:coverage]
command=/scripts/coverage

[program:httpd]
command=/usr/bin/python -m http.server 8000 --bind 0.0.0.0 -d /coverage

